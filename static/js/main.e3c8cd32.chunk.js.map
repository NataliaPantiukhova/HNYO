{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["puzzles","Grid","puzzle","this","$grid","$","$clues","$id","$author","gridPadding","cellMargin","cleanUp","setup","SelectionHandler","grid","setupEvents","_debugEvents","loadGame","gameButton","console","log","each","removeClass","remove","prototype","empty","text","id","columns","Array","width","cellClasses","cellSize","rows","letters","split","iY","length","cols","y","height","x","letter","cell","class","cellInner","appendTo","xPos","yPos","css","data","undefined","unshift","$el","clues","clueI","clue","$clue","push","author","deleteWord","word","coords","revealedAnswer","colsDroppingAt","fill","coordsLength","i","coord","addClass","startFallAnimations","cluesLength","cluePair","html","startDroppingAt","start","column","oldY","animate","top","duration","easing","on","_","bind","down","move","up","unsetupEvents","document","off","_pickCellFromEvent","event","closest","target","isTouch","button","preventDefault","isDown","currentCell","trace","is","traceLength","cellBeforeLast","pop","some","v","previousCell","pX","pY","Math","abs","debugEvents","onlyCheckFirst","wordHash","CryptoJS","SHA1","toUpperCase","hash","clueNumber","tryWord","ready","App","className","onClick","src","alt","autoPlay","loop","controls","type","href","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e3c8cd32.chunk.js","sourcesContent":["import $ from \"jquery\";\nimport _ from 'underscore';\nimport CryptoJS from 'crypto-js/crypto-js';\nimport SHA1 from 'crypto-js/sha1';\nimport './App.scss';\n\nfunction App() {\n  return (\n    <div>\n      <div className=\"horizontal-parent\">\n  \n  <div className=\"horizontal-child\">\n  <div className=\"slide star-wars\">\n  <div className=\"wrapper\">\n    <div className=\"scroll-text\">\n      <h1>C Новым годом!</h1>\n      <h2>Мой самый любимый во всей вселенной муж!</h2>\n      <p>Пусть Новый Год тебя балует интересными людьми, яркими впечатлениями, новыми вершинами.</p>\n      <p>Спасибо за все что ты для меня делаешь, за наших невероятных котят, за планы, которые мы строим вместе, за твой смешной нос и щекотные бока, за вдохновение становиться лучше, за твою доброту и шуточки.</p>\n      <p>Вместе мы все-все сможем!</p>\n      <p>Ты ЦИПКА. Люблю тебя больше чем космос!</p>\n    </div>\n  </div>\n  <div className='anim-stars'>\n      <div className=\"stars-01\"></div>\n      <div className=\"stars-02\"></div>\n      <div className=\"stars-03\"></div>\n      <div className=\"stars-04\"></div>\n    </div>\n  </div>\n    \n    <div className=\"slide\">\n    \n      <div className=\"game-area\">\n        <div className=\"game-grid\">\n        </div>\n        <div className=\"clue-area\">\n          <div>\n          <h3>Найди</h3>\n          <button className=\"game-btn\" onClick={gameButton}>\n            <img src=\"new.svg\" alt=\"icon\"/>\n          </button>\n          </div>\n          <ul className=\"clues\">\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div className=\"slide\">\n      <video className=\"bg-video\" autoPlay loop>\n        <source src=\"TDMovieOut.0.mp4\"></source>\n      </video>\n      <video className=\"video\" controls=\"controls\">\n        <source src=\"zeal.mp4\" type='video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"'/>\n        <a href=\"zeal.mp4\">Download</a>\n      </video>\n    </div>\n\n    <div className=\"slide\">\n      <hgroup className=\"slide-heading rainbow\">\n        <h1>\n        <div id=\"shadowBox\">\n            <h3 className=\"rainbow rainbow_text_animated\">Happy New Year</h3>\n        </div>\n        </h1>\n      </hgroup>\n    </div>\n  </div>\n\n</div>\n        <h1 className=\"marquee\">\n          <span>\n            <img src=\"pngwing.com.png\" alt=\"ship\"/>\n            Смешноносику необыкновенному!\n            <img src=\"pngwing.com.png\" alt=\"ship\"/>\n          </span>\n        </h1>\n\n    </div>\n\n  );\n}\nfunction tryWord(puzzle, word, onlyCheckFirst) {\n  if ( typeof word != 'string' ) {\n    return false;\n  }\n  var wordHash = ''+CryptoJS.SHA1(word.toUpperCase());\n  var length = onlyCheckFirst === true ? 1 : puzzle.clues.length;\n  for ( var clueI = 0; clueI < length; clueI++ ) {\n    var clue = puzzle.clues[clueI],\n        clueHash = clue.hash;\n    if ( clueHash === wordHash ) {\n      return {\n        clueNumber: clueI,\n        clue: clue\n      }\n    }\n  }\n  return false;\n};\n\nfunction Grid(puzzle) {\n  // Dom references.\n  this.$grid = $('.game-grid');\n  this.$clues = $('.clues');\n  this.$id = $('#puzzleId');\n  this.$author = $('#author');\n  // Constants.\n  this.gridPadding = 2;\n  this.cellMargin = 1;\n  // Gogogogo.\n  this.cleanUp();\n  this.setup(puzzle);\n}\n\n// Clean up stuff added in setup (done before to ensure clean slate).\nGrid.prototype.cleanUp = function() {\n  // Clear existing cells.\n  this.$grid.empty();\n  // Clear clues.\n  this.$clues.empty();\n  // Clear author name.\n  this.$author.text('');\n};\n\n// Construct grid whilst saving parts as members of Grid for convenient access.\nGrid.prototype.setup = function(puzzle) {\n  //$('.horizontal-child').css('overflow', 'hidden');\n  console.log('Starting puzzle #'+puzzle.id); // Just for making it a bit clearer in console when I hit go.\n  this.puzzle = puzzle;\n  // Start building array for tracking letters neatly (column-centric so easy to make letters fall).\n  this.columns = Array(puzzle.width);\n  // Select class for sizing cells, and offset for positioning cells.\n  var cellClasses = 'cell cell' + puzzle.width;\n  this.cellSize = ((100-(2*this.gridPadding)) / puzzle.width) - (2*this.cellMargin);\n  // Create cells.\n  var rows = puzzle.letters.split('/');\n  // Iterate rows.\n  for ( var iY = 0; iY < rows.length; iY++ ) {\n    var row = rows[iY],\n        cols = row.split(''),\n        y = this.puzzle.height-iY-1;\n    // Iterate columns.\n    for ( var x = 0; x < cols.length; x++ ) {\n      // Creating the cell.\n      var letter = cols[x],\n          cell = $('<div/>',{class:cellClasses}),\n          cellInner = $('<div/>',{class:'vam'});\n      cellInner.text(letter);\n      cellInner.appendTo(cell);\n      // Positioning it.\n      var xPos = this.gridPadding + (x * (this.cellSize+2*this.cellMargin)),\n          yPos = this.gridPadding + (y * (this.cellSize+2*this.cellMargin));\n      cell.css('left',''+xPos+'%');\n      cell.css('bottom',''+yPos+'%');\n      // Storing position data for trace tracking.\n      cell.data('x',x);\n      cell.data('y',y);\n      // Appending to grid.\n      cell.appendTo(this.$grid);\n      // And appending to columns for tracking/processing.\n      if ( this.columns[x] === undefined ) {\n        this.columns[x] = [];\n      }\n      this.columns[x].unshift({\n        letter: letter,\n        x: x, y: y,\n        $el: cell\n      });\n    }\n  }\n  // Insert clues.\n  this.clues = [];\n  for ( var clueI = 0; clueI < puzzle.clues.length; clueI++ ) {\n    var clue = puzzle.clues[clueI],\n        $clue = $('<li/>',{class:'clue'});\n    $clue.text(clue.clue);\n    this.clues.push({\n      clue: clue,\n      $el: $clue\n    });\n    $clue.appendTo(this.$clues);\n  }\n  // Insert puzzle ID and author name.\n  this.$id.text(puzzle.id);\n  this.$author.text(puzzle.author);\n};\n\n// Deletes a word (defined by specific letters) and invokes animation.\nGrid.prototype.deleteWord = function(word, coords, clue) {\n  // Reveal the answer in case of restart/rewind.\n  clue.revealedAnswer = word;\n  // Used to inform startFallAnimations about which need to fall.\n  var colsDroppingAt = Array(this.puzzle.width).fill(this.puzzle.height),\n  // Iterate letter coords...\n      coordsLength = coords.length;\n  for ( var i = 0; i < coordsLength; i++ ) {\n    var coord = coords[i],\n        x = coord.x, y = coord.y,\n        cell = this.columns[x][y];\n    // Update that this col needs to drop.\n    if ( y < colsDroppingAt[x] ) {\n      colsDroppingAt[x] = y;\n    }\n    // Kill the cell.\n    cell.$el.addClass('guess').removeClass('trace');\n    // this.columns[x][y].remove = true; // Mark for deletion (coords will be ruined by doing it now).\n  }\n  // Safely delete cell references.\n  // for ( var x = 0; x < this.columns.length; x++ ) {\n  //   var column = this.columns[x];\n  //   for ( var y = 0; y < column.length; ) {\n  //     var cell = column[y];\n  //     if ( cell.remove === true ) {\n  //       column.splice(y,1);\n  //     } else {\n  //       y++;\n  //     }\n  //   }\n  // }\n  // Calculate and trigger animations.\n  //console.log(colsDroppingAt);\n  this.startFallAnimations(colsDroppingAt);\n  // Mark the appropriate clue as done.\n  var cluesLength = this.clues.length;\n  for ( var i = 0; i < cluesLength; i++ ) {\n    var cluePair = this.clues[i];\n    var $clue = cluePair.$el;\n    if ( cluePair.clue === clue.clue ) {\n      $clue.addClass('clue-answered');\n      $clue.html($clue.text()+' <i>'+word+'</i>');\n      break;\n    }\n\n  }\n\n};\n\n// Iterates every cell looking for ones that can drop, setting up animations.\nGrid.prototype.startFallAnimations = function(startDroppingAt) {\n  // Iterate over this.columns.\n  for ( var x = 0; x < this.columns.length; x++ ) {\n    // Iterate up column, starting at element in startDroppingAt (can skip if -1).\n    var start = startDroppingAt[x];\n    if ( start < this.puzzle.height ) {\n      var column = this.columns[x];\n      for ( var y = start; y < column.length; y++ ) {\n        // If each item does not have y coord matching index in array:\n        var cell = column[y],\n            oldY = cell.y;\n        if ( oldY !== y ) {\n          // Trigger drop.\n          var yPos = this.gridPadding + ((this.puzzle.height-y-1) * (this.cellSize+2*this.cellMargin));\n          //cell.$el.css('top',''+yPos+'%');\n          // Animate the fall.\n          cell.$el.animate({top: yPos+'%'},{\n            duration: 200 * (oldY - y),\n            easing: 'linear'\n          });\n          // Update cell position.\n          cell.y = y;\n          cell.$el.data('y',y);\n        }\n      }\n    }\n  }\n};\n\n// SELECTION HANDLER CLASS\n// Handle click/touch drag selection on grid.\nfunction SelectionHandler(grid) {\n  this.grid = grid;\n  this.setupEvents();\n  this._debugEvents = false;\n}\n\n// Sets up events for mouse/touch down/up/move.\nSelectionHandler.prototype.setupEvents = function() {\n  // Disable touch shit.\n  //var preventDefault = function(e) { e.preventDefault(); }\n  //$('html','body').on('touchstart touchmove',preventDefault);\n  //$('body').parent().on('touchstart touchmove',preventDefault);\n  // Need to use document or body/etc because mouse event (like up) can be dropped when not inside grid.\n  $('html').on('mousedown',_.bind(this.down,this,false));\n  $('html').on('touchstart',_.bind(this.down,this,true));\n  $('html').on('mousemove',_.bind(this.move,this,false));\n  $('html').on('touchmove',_.bind(this.move,this,true));\n  $('html').on('mouseup',_.bind(this.up,this,false));\n  $('html').on('touchend',_.bind(this.up,this,true));\n};\n\n// Unsets the events setup by this class.\nSelectionHandler.prototype.unsetupEvents = function() {\n  $(document).off();\n};\n\n// Used by both down and move callbacks; returns the 'cell' object from target property of the event.\nSelectionHandler.prototype._pickCellFromEvent = function(event) {\n  var closest = $(event.target).closest('.cell',this.grid.$grid);\n  if ( closest.length === 0 ) {\n    return undefined;\n  }\n  return closest;\n};\n\n// Callback when mouse/touch down event is fired. Begins tracking movement over grid, beginning with selecting a letter.\nSelectionHandler.prototype.down = function(isTouch, event) {\n  // Give up if not left mouse button.\n  if ( event.button !== 0 ) {\n    return;\n  }\n  // Some useful debug info.\n  if ( this._debugEvents ) {\n    console.log((isTouch?'touch':'mouse')+' down:');\n    console.log(event);\n  }\n  // Stop handling events normally (particularly important for touch).\n  event.preventDefault();\n  // Register tracking started.\n  this.isDown = true;\n  // Attempt to pick a cell.\n  var cell = this._pickCellFromEvent(event);\n  if ( cell === undefined ) {\n    return;\n  }\n  // Apply :hover-like class to selected cell.\n  cell.addClass('trace');\n  // Tracking used to tell if selection has already happened for a cell; mainly used in move().\n  this.currentCell = cell;\n  // Start the trace.\n  this.trace = [cell];\n};\n\n// Callback when mouse/touch move event is fired. Tracks movement over grid and letter selection.\nSelectionHandler.prototype.move = function(isTouch, event) {\n  // Give up if handler has not already started tracking.\n  if ( !this.isDown ) {\n    return;\n  }\n  // Some useful debug info.\n  if ( this._debugEvents ) {\n    console.log((isTouch?'touch':'mouse')+' move:');\n    console.log(event);\n  }\n  // Stop handling events normally (particularly important for touch).\n  event.preventDefault();\n  // Hack to allow people to not click on a cell initially.\n  if ( this.trace === undefined ) {\n    this.trace = [];\n  }\n  // Attempt to pick a cell.\n  // Only activate adding to trace if not presently already inside a cell.\n  var cell = this._pickCellFromEvent(event);\n  // Give up if not there.\n  if ( cell === undefined ) {\n    this.currentCell = undefined;\n    return;\n  }\n  // Give up if haven't left current cell.\n  if ( cell.is(this.currentCell) ) {\n    return;\n  }\n  // Undo trace if reentering cell that was the last to be selected, removing it from list and removing hover class.\n  var traceLength = this.trace.length;\n  if ( traceLength > 1 ) { // Don't bother with check if it's first cell.\n    var cellBeforeLast = this.trace[traceLength-2];\n    if ( cell.is(cellBeforeLast) ) {\n      this.trace.pop().removeClass('trace');\n      return;\n    }\n  }\n  // Ensure cell has not already been selected (just ignore rather than destroying list).\n  var traceContainsCell = this.trace.some(function(v) { return v.is(cell); });\n  if ( traceContainsCell ) {\n    return;\n  }\n  // Tracking used to tell if selection has already happened for a cell.\n  this.currentCell = cell;\n  // Check cell is adjacent/diagonal to previous cell. This can go after this.currentCell assignment as it is only used to prevent excessive processing, and thus is especially useful when failing on a check this late.\n  if ( traceLength >= 1 ) { // Don't bother with check if it's first cell.\n    var previousCell = this.trace[traceLength-1],\n        pX = previousCell.data('x'), pY = previousCell.data('y'),\n        x = cell.data('x'), y = cell.data('y');\n    if ( !(Math.abs(pX-x) <= 1 && Math.abs(pY-y) <= 1) ) {\n      return;\n    }\n  }\n  // Apply :hover-like class to selected cell.\n  cell.addClass('trace');\n  this.trace.push(cell);\n};\n\n// Callback when mouse/touch up event is fired. Finishes tracking and tests word against the puzzle.\nSelectionHandler.prototype.up = function(isTouch, event) {\n  // Give up if not left mouse button.\n  if ( event.button !== 0 ) {\n    return;\n  }\n  // Some useful debug info.\n  if ( this.debugEvents ) {\n    console.log((isTouch?'touch':'mouse')+' up:');\n    console.log(event);\n  }\n  // Stop handling events normally (particularly important for touch).\n  event.preventDefault();\n  // Give up if nothing to process.\n  if ( this.trace === undefined ) {\n    this.isDown = false;\n    return;\n  }\n  // Reconstructing the trace.\n  //console.log(this.trace);\n  var word = '', coords = [], traceLength = this.trace.length;\n  for ( var i = 0; i < traceLength; i++ ) {\n    var cell = this.trace[i];\n    word += cell.text();\n    coords.push({ x: cell.data('x'), y: cell.data('y') });\n  }\n  //console.log(word); console.log(coords);\n  // If word check fails, remove .trace.\n  var clue = tryWord(this.grid.puzzle,word);\n  if ( !clue ) {\n    while ( this.trace.length > 0 ) {\n      this.trace.pop().removeClass('trace');\n    }\n  }\n  // Otherwise, fire grid method to remove the word.\n  else {\n    console.log('Word success!!',word);\n    this.grid.deleteWord(word,coords,clue);\n  }\n  // Register tracking ended.\n  this.isDown = false;\n  this.trace = undefined;\n  win();\n};\n\nfunction win() {\n  if ($('.game-grid').html() === '') {\n    console.log('win');\n  }\n}\n\n// Lazy pre-declare (not strictly needed).\nvar puzzles;\n\nfunction loadGame() {\n  var grid = new Grid(puzzles[0]);\n  var sh = new SelectionHandler(grid);\n}\n\n// ENTRY POINT.\n\n\n\n\n\n// Preset puzzles (to be removed).\n puzzles = [\n  {\n    id: 1, width: 10, height: 10,\n    letters: 'ПЦКСВОЮБОВ/ЦИАРАКЛАЬМ/АБЯКИХПКАШ/ЗПСВЗУЛОИН/АДЧЛЩЕЮТАТ/АНАВАНАЛАА/РОНМЫДРЕТС/ЛКАЕДВЕДЬУ/ЕИКЕНБРЩЯК/КНОТОКОМРИ',\n    clues: [\n      { clue: 'Трогает собак.', length: 4, hash: '1007b9a7a84810d3ec13a96d7d06e7853cd7267d' },\n      { clue: 'Черепаховый.', length: 6, hash: '46a91303eb40b21c39a17442a35b856da3d0efbe' },\n      { clue: 'Мажет всяким по стеклу.', length: 5, hash: 'dc480e6a2171572610da1f5a5c4b4900e22bdfa8' },\n      { clue: 'Буду тебя нЭжно.', length: 5, hash: '63164bda3297ab1130a7b7da060a7d5455d47a08' },\n      { clue: 'Животное символ города.', length: 7, hash: '8f1a033d543406880ccfeabb765a84247cc2ef37' },\n      { clue: 'Вкуснее когда холодная или в тесте.', length: 7, hash: '67817b32db1d67261ea9b2ed0c52a4044d73033a' },\n      { clue: 'Спорная колбаса.', length: 10, hash: 'b83ac2adcb3669d356451b5ce82141b6c3369a95' },\n      { clue: 'Автограф был на купюре. 4 буквы.', length: 4, hash: '06e6cb64b7394f17ebafc106ab2f45a12e110419' },\n      { clue: 'Ты у меня.', length: 6, hash: '76c5c66840530069f5208deb8e2ade2bde2834a3' },\n      { clue: 'Знаешь о них все. У тебя есть одна.', length: 6, hash: 'f116c6eff68186161a75885de0b50b1161829a00' },\n      { clue: 'Водяной удав. З', length: 9, hash: '10994060332e7d247344059d5ef219751e5c3045' },\n      { clue: 'Аббревиатура.', length: 4, hash: '2472cc9eb7888f377cd2c28b4022d174119ea8dc' },\n      { clue: 'Коронное блюдо.', length: 5, hash: '2c9fb6cb9f81be4f00ae64cb06fa17aaf5401f83' },\n      { clue: 'Даже самый большой самолет не вместит всю мою любовь!', length: 4, hash: '0ac5fdabbc4622d518196e66301587b334212e29' },\n      { clue: 'Раз в неделю. Кастрюлю.', length: 4, hash: '77b9491864694ac62b3b84b4ebe0353169850b32' },\n      { clue: 'Цвет для мышины.', length: 7, hash: '9f881d5d2a7f00a0f511450b7e76b21f2a467cb5' },\n      { clue: 'Хит.', length: 7, hash: 'c217c0ab0e5037bdb5ab5ba41d9d7a8262de0fcc' }\n    ]\n  }\n];\n\nfunction gameButton() {\n\n  console.log('1');\n\n  $('.clue').each(function () {\n    $(this).removeClass('clue-answered');\n  });\n\n  console.log('2');\n\n  $('.cell').each(function() {\n    $(this).removeClass( \"guess\" );\n  });\n\n  console.log('3');\n\n  $('i').each( function () {\n    $(this).remove();\n  });\n\n  console.log('4');\n\n  loadGame();\n};\n\n$(document).ready(function() {\n  loadGame();\n});\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}